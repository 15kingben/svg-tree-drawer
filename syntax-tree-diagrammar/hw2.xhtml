<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
	<head>
		<meta charset='utf8' />
		<meta http-equiv="X-UA-Compatible" content="chrome=1" />
		<title>Ling 566 HW 2</title>
		<link rel="stylesheet" href="screen.css" type="text/css" media="screen" />
		<script>
		if(!window.console){
			var console = {
				info:function(){},
				error:function(){},
				warn:function(){}
			}
		}
		</script>
		<!--<script src="../svgweb/src/svg-uncompressed.js" data-path="../svgweb/src"></script>-->
		<script src="../svg-tree-drawer.js"></script>
		<script src="helpers.js"></script>
		<style>
		
		math mtd {
			text-align:left;
		}
		math mrow {
			
		}
		math {
			display:block;
		}
		li {
			
		}
		ol > li {
			margin-top:1em;
			padding-top:1em;
			border-top:solid 1px gray;
		}
		ol > li:first-child {
			border-top:0;
			padding-top:0;
			margin-top:0;
		}
		</style>
	</head>
	<body>
		<h1>Ling 566 HW 2</h1>
		<address>Weston Ruter</address>
			
		<section>
		<h2>Problem 1: Valence Variations</h2>
		<ol style="list-style:upper-alpha">
			<li><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML">
				<mrow>
				  <mfenced open='〈' close='〉'>
					<mi>here</mi>
					
					<mfenced open='[' close=']'>
						<mtable>
							<mtr>
								<mtd><mi style="font-style:italic">word</mi></mtd>
							</mtr>
							
							<mtr>
								<mtd><mi>HEAD</mi></mtd>
								<mtd>
									
									<mfenced open='[' close=']'>
										<mtable>
											<mtr>
												<mtd columnspan="2"><mi style='font-style:italic'>prep</mi></mtd>
											</mtr>
										</mtable>
									</mfenced>
									
								</mtd>
							</mtr>
							<mtr>
								<mtd><mi>VAL</mi></mtd>
								<mtd>
									
									<mfenced open='[' close=']'>
										<mtable>
											<mtr>
												<mtd><mtext>COMPS</mtext></mtd>
												<mtd>
													<mfenced open='〈' close='〉' separators="&#8199;">
													</mfenced>
												</mtd>
											</mtr>
											<mtr>
												<mtd><mtext>SPR</mtext></mtd>
												<mtd>
													<mfenced open='〈' close='〉' separators="&#8199;">
													</mfenced>
												</mtd>
											</mtr>
										</mtable>
									</mfenced>
									
								</mtd>
							</mtr>
						</mtable>
					</mfenced>
					</mfenced>
				</mrow>
			</math>
			
			<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML">
				<mrow>
				  <mfenced open='〈' close='〉'>
					<mi>there</mi>
					
					<mfenced open='[' close=']'>
						<mtable>
							<mtr>
								<mtd><mi style="font-style:italic">word</mi></mtd>
							</mtr>
							
							<mtr>
								<mtd><mi>HEAD</mi></mtd>
								<mtd>
									
									<mfenced open='[' close=']'>
										<mtable>
											<mtr>
												<mtd columnspan="2"><mi style='font-style:italic'>prep</mi></mtd>
											</mtr>
										</mtable>
									</mfenced>
									
								</mtd>
							</mtr>
							<mtr>
								<mtd><mi>VAL</mi></mtd>
								<mtd>
									
									<mfenced open='[' close=']'>
										<mtable>
											<mtr>
												<mtd><mtext>COMPS</mtext></mtd>
												<mtd>
													<mfenced open='〈' close='〉' separators="&#8199;">
													</mfenced>
												</mtd>
											</mtr>
											<mtr>
												<mtd><mtext>SPR</mtext></mtd>
												<mtd>
													<mfenced open='〈' close='〉' separators="&#8199;">
													</mfenced>
												</mtd>
											</mtr>
										</mtable>
									</mfenced>
									
								</mtd>
							</mtr>
						</mtable>
					</mfenced>
					</mfenced>
				</mrow>
			</math>
		</li>
		<li><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML">
			<mrow>
			  <mfenced open='〈' close='〉'>
				<mi>fond</mi>
				
				<mfenced open='[' close=']'>
					<mtable>
						<mtr>
							<mtd><mi style="font-style:italic">word</mi></mtd>
						</mtr>
						
						<mtr>
							<mtd><mi>HEAD</mi></mtd>
							<mtd>
								
								<mfenced open='[' close=']'>
									<mtable>
										<mtr>
											<mtd columnspan="2"><mi style='font-style:italic'>adj</mi></mtd>
										</mtr>
									</mtable>
								</mfenced>
								
							</mtd>
						</mtr>
						<mtr>
							<mtd><mi>VAL</mi></mtd>
							<mtd>
								
								<mfenced open='[' close=']'>
									<mtable>
										<mtr>
											<mtd><mtext>COMPS</mtext></mtd>
											<mtd>
												<mfenced open='〈' close='〉' separators="&#8199;">
													<mi>PP</mi>
													<mfenced open='[' close=']' separators="&#8199;">
														<mi>HEAD</mi>
														<mi style="font-style:italic">prep</mi>
														<ms>of</ms>
													</mfenced>
												</mfenced>
											</mtd>
										</mtr>
										<mtr>
											<mtd><mtext>SPR</mtext></mtd>
											<mtd>
												<mfenced open='〈' close='〉' separators="&#8199;">
												</mfenced>
											</mtd>
										</mtr>
									</mtable>
								</mfenced>
								
							</mtd>
						</mtr>
					</mtable>
				</mfenced>
				</mfenced>
			</mrow>
		</math></li>
		
		<li><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML">
			<mrow>
			  <mfenced open='〈' close='〉'>
				<mi>out</mi>
				
				<mfenced open='[' close=']'>
					<mtable>
						<mtr>
							<mtd><mi style="font-style:italic">word</mi></mtd>
						</mtr>
						
						<mtr>
							<mtd><mi>HEAD</mi></mtd>
							<mtd>
								
								<mfenced open='[' close=']'>
									<mtable>
										<mtr>
											<mtd columnspan="2"><mi style='font-style:italic'>prep</mi></mtd>
										</mtr>
									</mtable>
								</mfenced>
								
							</mtd>
						</mtr>
						<mtr>
							<mtd><mi>VAL</mi></mtd>
							<mtd>
								
								<mfenced open='[' close=']'>
									<mtable>
										<mtr>
											<mtd><mtext>COMPS</mtext></mtd>
											<mtd>
												<mfenced open='〈' close='〉' separators="&#8199;">
													<mfenced open='(' close=')' separators="&#8199;">
														<mi>NP</mi>
														<mo>|</mo>
														<mi>PP</mi>
														<mfenced open='[' close=']' separators="&#8199;">
															<mi>HEAD</mi>
															<mi style="font-style:italic">prep</mi>
															<ms>of</ms>
															<mo>|</mo>
															<ms>from</ms>
														</mfenced>
													</mfenced>
												</mfenced>
											</mtd>
										</mtr>
										<mtr>
											<mtd><mtext>SPR</mtext></mtd>
											<mtd>
												<mfenced open='〈' close='〉' separators="&#8199;">
												</mfenced>
											</mtd>
										</mtr>
									</mtable>
								</mfenced>
								
							</mtd>
						</mtr>
					</mtable>
				</mfenced>
				</mfenced>
			</mrow>
		</math>
		<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML">
			<mrow>
			  <mfenced open='〈' close='〉'>
				<mi>from</mi>
				
				<mfenced open='[' close=']'>
					<mtable>
						<mtr>
							<mtd><mi style="font-style:italic">word</mi></mtd>
						</mtr>
						
						<mtr>
							<mtd><mi>HEAD</mi></mtd>
							<mtd>
								
								<mfenced open='[' close=']'>
									<mtable>
										<mtr>
											<mtd columnspan="2"><mi style='font-style:italic'>prep</mi></mtd>
										</mtr>
									</mtable>
								</mfenced>
								
							</mtd>
						</mtr>
						<mtr>
							<mtd><mi>VAL</mi></mtd>
							<mtd>
								
								<mfenced open='[' close=']'>
									<mtable>
										<mtr>
											<mtd><mtext>COMPS</mtext></mtd>
											<mtd>
												<mfenced open='〈' close='〉' separators="&#8199;">
													
														<mi>NP</mi>
														<mo>|</mo>
														<mi>PP</mi>
														<mfenced open='[' close=']' separators="&#8199;">
															<mi>HEAD</mi>
															<mi style="font-style:italic">prep</mi>
															<ms>under</ms>
														</mfenced>
													
												</mfenced>
											</mtd>
										</mtr>
										<mtr>
											<mtd><mtext>SPR</mtext></mtd>
											<mtd>
												<mfenced open='〈' close='〉' separators="&#8199;">
												</mfenced>
											</mtd>
										</mtr>
									</mtable>
								</mfenced>
								
							</mtd>
						</mtr>
					</mtable>
				</mfenced>
				</mfenced>
			</mrow>
		</math>
		<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML">
			<mrow>
			  <mfenced open='〈' close='〉'>
				<mi>of</mi>
				
				<mfenced open='[' close=']'>
					<mtable>
						<mtr>
							<mtd><mi style="font-style:italic">word</mi></mtd>
						</mtr>
						
						<mtr>
							<mtd><mi>HEAD</mi></mtd>
							<mtd>
								
								<mfenced open='[' close=']'>
									<mtable>
										<mtr>
											<mtd columnspan="2"><mi style='font-style:italic'>prep</mi></mtd>
										</mtr>
									</mtable>
								</mfenced>
								
							</mtd>
						</mtr>
						<mtr>
							<mtd><mi>VAL</mi></mtd>
							<mtd>
								
								<mfenced open='[' close=']'>
									<mtable>
										<!--<mtr>-->
										<!--	<mtd columnspan="2" style="font-style:italic">val-cat</mtd>-->
										<!--</mtr>-->
										<mtr>
											<mtd><mtext>COMPS</mtext></mtd>
											<mtd>
												<mfenced open='〈' close='〉' separators="&#8199;">
													<mi>NP</mi>
												</mfenced>
											</mtd>
										</mtr>
										<mtr>
											<mtd><mtext>SPR</mtext></mtd>
											<mtd>
												<mfenced open='〈' close='〉' separators="&#8199;">
												</mfenced>
											</mtd>
										</mtr>
									</mtable>
								</mfenced>
								
							</mtd>
						</mtr>
					</mtable>
				</mfenced>
				</mfenced>
			</mrow>
		</math></li>
		<li><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML">
			<mrow>
			  <mfenced open='〈' close='〉'>
				<mi>grew</mi>
				
				<mfenced open='[' close=']'>
					<mtable>
						<mtr>
							<mtd><mi style="font-style:italic">word</mi></mtd>
						</mtr>
						
						<mtr>
							<mtd><mi>HEAD</mi></mtd>
							<mtd>
								
								<mfenced open='[' close=']'>
									<mtable>
										<mtr>
											<mtd columnspan="2"><mi style='font-style:italic'>verb</mi></mtd>
										</mtr>
									</mtable>
								</mfenced>
								
							</mtd>
						</mtr>
						<mtr>
							<mtd><mi>VAL</mi></mtd>
							<mtd>
								
								<mfenced open='[' close=']'>
									<mtable>
										<!--<mtr>-->
										<!--	<mtd columnspan="2" style="font-style:italic">val-cat</mtd>-->
										<!--</mtr>-->
										<mtr>
											<mtd><mtext>COMPS</mtext></mtd>
											<mtd>
												
												<mfenced open='〈' close='〉' separators="">
													<mi>AP</mi>
												</mfenced>
												
											</mtd>
										</mtr>
										<mtr>
											<mtd><mtext>SPR</mtext></mtd>
											<mtd>
												<mfenced open='〈' close='〉' separators="&#8199;">
												</mfenced>
											</mtd>
										</mtr>
									</mtable>
								</mfenced>
								
							</mtd>
						</mtr>
					</mtable>
				</mfenced>
				</mfenced>
			</mrow>
		</math>
			
			
			<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML">
			<mrow>
			  <mfenced open='〈' close='〉'>
				<mi>seemed</mi>
				
				<mfenced open='[' close=']'>
					<mtable>
						<mtr>
							<mtd><mi style="font-style:italic">word</mi></mtd>
						</mtr>
						
						<mtr>
							<mtd><mi>HEAD</mi></mtd>
							<mtd>
								
								<mfenced open='[' close=']'>
									<mtable>
										<mtr>
											<mtd columnspan="2"><mi style='font-style:italic'>verb</mi></mtd>
										</mtr>
										<!--<mtr>
											<mtd><mtext>AGR</mtext></mtd>
											<mtd>
												<mfenced open='[' close=']'>
													<mtable>
														<mtr>
															<mtd style='font-style:italic'>agr-cat</mtd>
														</mtr>
														<mtr>
															<mtd>NUM</mtd>
															<mtd>pl</mtd>
														</mtr>
													</mtable>
												</mfenced>
											</mtd>
										</mtr>-->
									</mtable>
								</mfenced>
								
							</mtd>
						</mtr>
						<mtr>
							<mtd><mi>VAL</mi></mtd>
							<mtd>
								
								<mfenced open='[' close=']'>
									<mtable>
										<!--<mtr>-->
										<!--	<mtd columnspan="2" style="font-style:italic">val-cat</mtd>-->
										<!--</mtr>-->
										<mtr>
											<mtd><mtext>COMPS</mtext></mtd>
											<mtd>
												
												<mfenced open='〈' close='〉' separators="&#8199;">
													<mi>AP</mi>
													<mo>|</mo>
													<mi>NP</mi>
												</mfenced>
												
											</mtd>
										</mtr>
										<mtr>
											<mtd><mtext>SPR</mtext></mtd>
											<mtd>
												<mfenced open='〈' close='〉' separators="&#8199;">
												</mfenced>
											</mtd>
										</mtr>
									</mtable>
								</mfenced>
								
							</mtd>
						</mtr>
					</mtable>
				</mfenced>
				</mfenced>
			</mrow>
		</math>
		
		
		
		
		<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML">
			<mrow>
				<mfenced open='〈' close='〉'>
					<mi>happy</mi>
					
					<mfenced open='[' close=']'>
						<mtable>
							<mtr>
								<mtd><mi style="font-style:italic">word</mi></mtd>
							</mtr>
							
							<mtr>
								<mtd><mi>HEAD</mi></mtd>
								<mtd>
									
									<mfenced open='[' close=']'>
										<mtable>
											<mtr>
												<mtd columnspan="2"><mi style='font-style:italic'>adj</mi></mtd>
											</mtr>
										</mtable>
									</mfenced>
									
								</mtd>
							</mtr>
							<mtr>
								<mtd><mi>VAL</mi></mtd>
								<mtd>
									
									<mfenced open='[' close=']'>
										<mtable>
											<!--<mtr>-->
											<!--	<mtd columnspan="2" style="font-style:italic">val-cat</mtd>-->
											<!--</mtr>-->
											<mtr>
												<mtd><mtext>COMPS</mtext></mtd>
												<mtd>
													
													<mfenced open='〈' close='〉' separators="">
													</mfenced>
													
												</mtd>
											</mtr>
											<mtr>
												<mtd><mtext>SPR</mtext></mtd>
												<mtd>
													<mfenced open='〈' close='〉' separators="&#8199;">
													</mfenced>
												</mtd>
											</mtr>
										</mtable>
									</mfenced>
									
								</mtd>
							</mtr>
						</mtable>
					</mfenced>
				</mfenced>
			</mrow>
		</math>
		
		
		
		<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML">
			<mrow>
				<mfenced open='〈' close='〉'>
					<mi>close</mi>
					
					<mfenced open='[' close=']'>
						<mtable>
							<mtr>
								<mtd><mi style="font-style:italic">word</mi></mtd>
							</mtr>
							
							<mtr>
								<mtd><mi>HEAD</mi></mtd>
								<mtd>
									
									<mfenced open='[' close=']'>
										<mtable>
											<mtr>
												<mtd columnspan="2"><mi style='font-style:italic'>adj</mi></mtd>
											</mtr>
										</mtable>
									</mfenced>
									
								</mtd>
							</mtr>
							<mtr>
								<mtd><mi>VAL</mi></mtd>
								<mtd>
									
									<mfenced open='[' close=']'>
										<mtable>
											<!--<mtr>-->
											<!--	<mtd columnspan="2" style="font-style:italic">val-cat</mtd>-->
											<!--</mtr>-->
											<mtr>
												<mtd><mtext>COMPS</mtext></mtd>
												<mtd>
													
													<mfenced open='〈' close='〉' separators="">
														<mfenced open='(' close=')' separators="&#8199;">
															<mi>PP</mi>
															<mfenced open='[' close=']' separators="&#8199;">
																<mi>HEAD</mi>
																<mi style="font-style:italic">prep</mi>
																<ms>to</ms>
															</mfenced>
														</mfenced>
													</mfenced>
													
												</mtd>
											</mtr>
											<mtr>
												<mtd><mtext>SPR</mtext></mtd>
												<mtd>
													<mfenced open='〈' close='〉' separators="&#8199;">
													</mfenced>
												</mtd>
											</mtr>
												
										</mtable>
									</mfenced>
									
								</mtd>
							</mtr>
						</mtable>
					</mfenced>
				</mfenced>
			</mrow>
		</math></li>
	</ol>
	</section>
	
	
	
	
		
		
		<div id="treeContainer">
			<p><em>Please wait…</em></p>
		</div>
	
		
		
		
		
		
		
		
		
		
		
		
		
		<script>
		//<![CDATA[
		//obj.setAttribute('data', 'data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg"></svg>');
		
		
		
		var treeData3 = {
			root: {
				label:'S',
				children:[
					{
						label:'NʃP',
						children:[
							{
								label:'NOM',
								children:[
									{
										label:'N',
										children:[
											{label:'Suzuki-san-ga'}
										]
									},
									{
										label:'D',
										children:[
											{label:'sono'}
										]
									},
									{
										label:'D',
										children:[
											{label:'sono'}
										]
									}
								]
							}
						]
					},
					{
						label:'VP',
						children:[
							{
								label:'PP',
								children:[
									{
										label:'NP',
										children:[
											{
												label:'NOM',
												children:[
													{
														label:'N',
														children:[
															{label:'Toukyou'},
															{label:'food rules!'}
														]
													}
												]
											}
										]
									},
									{
										label:'P',
										children:[
											{label:'e'}
										]
									}
								]
							},
							{
								label:'Vksjdkahdkahsdkjahsdkjahsdkjahskjahskdjh',
								children:[
									{label:'i'},
									{
										label:'iasdasdasdasdasdasd',
										children:[
											{label:'e'},
											{label:'e'},
											{label:'e'},
											{label:'easdasdasdas'}
										]
									
									}
								]
							}
						]
					}
				]
			}
		};
		
		
		var data = treeData3;
		
		/**
		 * Get tree data that has been saved in location.hash
		 */
		function parseHash(){
			var hash = window.location.hash.substr(1);
			if(hash){
				try {
					var toParse = decode64(hash);
					var hashdata;
					try {
						hashdata = JSON.parse(toParse);
					}
					//Try decompressing the hash just in case that's why it failed to parse
					catch(e){
						hashdata = JSON.parse(decompress(toParse))
					}
					if(hashdata)
						return hashdata;
				}
				catch(e){
					console.warn(toParse)
				}
			}
			return null;
		}
		
		/**
		 * Once the page has loaded (esp. including svgweb), then get the saved
		 * state from location.hash and initialize the tree with that data
		 */
		var tree;
		window.addEventListener('load', function(){
			var container = document.getElementById('treeContainer');
			try {
				container.innerHTML = '';
				
				//Get the saved tree data from the location.hash
				var hashData = parseHash();
				if(hashData)
					data = hashData;
				
				tree = new TreeDrawer(container, data.root);
				
				tree.draw();
			}
			catch(e){
				container.innerHTML = '<em style="color:red">Unable to initialize SVG Tree: ' + e.message + '.</em>';
				console.error(e);
			}
			
				
			//Watch for change in location.hash and
			function monitorBookmark(e){
				if(e && e.type)
					clearInterval(interval);
				var data = parseHash();
				if(data){
					if(data.labelStyle)
						tree.labelStyle = data.labelStyle;
					if(data.branchStyle)
						tree.branchStyle = data.branchStyle;
					if(data.root)
						tree.populate(data.root);
				}
			}
			window.addEventListener('hashchange', monitorBookmark, false);
			var prevHash = location.hash;
			var interval = setInterval(function(){
				if(location.hash != prevHash){
					prevHash = location.hash;
					monitorBookmark();
				}
			}, 100)
			
		}, false);
		
		function bookmarkTree(){
			var hash = encode64(
				compress(
					JSON.stringify({root:tree.root, labelStyle:tree.labelStyle, branchStyle:tree.branchStyle})
				, MaxWindowLength)
			);
			window.location.hash = hash;
		}
		
		//]]>
		</script>
		
		<fieldset style="display:none;position:absolute; right:10px ; bottom: 10px; background:white;">
			<legend>Tree Options</legend>
			<p>
				Branch color:
				<button type="button" onclick="tree.branchStyle.stroke = 'black'; tree.draw();" style='color:black;'>black</button>
				<button type="button" onclick="tree.branchStyle.stroke = 'red'; tree.draw();" style='color:red;'>red</button>
				<button type="button" onclick="tree.branchStyle.stroke = 'blue'; tree.draw();" style='color:blue;'>blue</button>
			</p>
			<p>
				Font size:
				<button type="button" onclick="tree.labelStyle.fontSize = 15; tree.draw();" style='font-size:15px;'>15px</button>
				<button type="button" onclick="tree.labelStyle.fontSize = 25; tree.draw();" style='font-size:25px;'>25px</button>
				<button type="button" onclick="tree.labelStyle.fontSize = 35; tree.draw();" style='font-size:35px;'>35px</button>
			</p>
			<p>
				Branch height:
				<button type="button" onclick="tree.branchStyle.height = 15; tree.draw();" style='height:15px;'>15px</button>
				<button type="button" onclick="tree.branchStyle.height = 25; tree.draw();" style='height:25px;'>25px</button>
				<button type="button" onclick="tree.branchStyle.height = 35; tree.draw();" style='height:35px;'>35px</button>
			</p>
			<p><button type="button" onclick="bookmarkTree()">Save Tree to location hash</button></p>
		</fieldset>
		
		
		<!--
				<svg
				   xmlns="http://www.w3.org/2000/svg"
				   xmlns:xlink="http://www.w3.org/1999/xlink"
				   version="1.1" baseProfile="full"
				   style="border:solid 1px red;"
				   width="200"
				   height="200">
				   
					<rect x="25" y="25" 
							  id="myRect" 
							  rx="0.6" ry="0.6" 
							  width="150" height="150" 
							  fill="green" 
							  stroke="yellow" stroke-width="8"/>
					
				</svg>
		-->
		<hr />
		<footer>
			<address><a href="http://weston.ruter.net/" rel="author">Weston Ruter</a></address>
		</footer>
	</body>
</html>